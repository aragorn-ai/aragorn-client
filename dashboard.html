<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link href="dashboard.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Example of embedding Aragorn web" />
    <title>Aragorn Embedabble Example</title>
</head>

<body onload="getToken()">
	<script>
        async function getToken() {
            try{
            const PARTNER_API= "";
            const PROJECT_ID = "";
            const API_KEY = "";
            const ORG_ID = "";
            const embedResponse = await fetch(`${PARTNER_API}/projects/${PROJECT_ID}/embeddable-token`,{
                headers: {
                    "Content-Taype": "application/json",
                    "x-aragorn-api-key": API_KEY,
                    "x-aragorn-org-id": ORG_ID
                }
            }).then((res) => res.json());
        const aragornElements = document.getElementsByClassName("aragorn-embeddable");
        for (var i = 0; i < aragornElements.length; i++) {
            aragornElements.item(i).setAttribute("data-token",embedResponse.token)
        }
            }catch{
                console.error('Failed to fetch embeddable token')
            }
        }
        </script>
    <header class="header">
        <div class="header-content responsive-wrapper">
            <div class="header-logo">
                <a href="#">
                    <div>
                        <img src="https://assets.codepen.io/285131/untitled-ui-icon.svg" />
                    </div>
                    <img src="https://assets.codepen.io/285131/untitled-ui.svg" />
                </a>
            </div>
            <div class="header-navigation">
                <nav class="header-navigation-links">
                    <a href="#"> Home </a>
                    <a href="#"> Dashboard </a>
                    <a href="#"> Projects </a>
                    <a href="#"> Tasks </a>
                    <a href="#"> Reporting </a>
                    <a href="#"> Users </a>
                </nav>
            </div>
        </div>
    </header>
    <main class="main">
        <div class="responsive-wrapper">
            <div class="main-header">
                <h1>Home</h1>
                <div class="search">
                    <input type="text" placeholder="Search" />
                    <button type="submit">
                        <i class="ph-magnifying-glass-bold"></i>
                    </button>
                </div>
            </div>
            <div class="horizontal-tabs">
                <a href="#">My details</a>
                <a href="#" class="active">Integrations</a>
                <a href="#">Settings</a>
                <a href="#">Team</a>
                <a href="#">Billing</a>
                <a href="#">Notifications</a>
            </div>
            <div class="content-header">
                <div class="content-header-intro">
                    <h2>HRIS system connections and mappings</h2>
                    <p>Connect to your HRIS to provide the required data</p>
                </div>
            </div>

            <div class="card">
                <!-- Below is the html code you will insert at the location you want the embeddable to show-->
                <div class="aragorn-embeddable"
                data-token="{TOKEN_FROM_PARTNER_API_GOES_HERE}"
                data-height="500px"
                data-width="500px"
                data-primary-color="#434ce8"
                data-secondary-color="#d2d4f9"
                ></div>
                <!--------------------------------------------------------------------------------------------->
            </div>
					
        </div>
    </main>
</body>

<!-- Below is the css and js you need to enable the embeddable code. Must paste AFTER BODY tag -->
<link href="https://static.aragorn.ai/embeddable/prod/index.css" rel="stylesheet" />
<script src="https://static.aragorn.ai/embeddable/prod/index.js"></script>

</html>